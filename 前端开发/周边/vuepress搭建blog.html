<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vuepress搭建Blog | Jason&#39;s Blog</title>
    <meta name="description" content="Jason个人站，技术，营销和白日梦 ga">
    <link rel="icon" href="/favicon.icon">
    
    <link rel="preload" href="/assets/css/0.styles.79ba9eaa.css" as="style"><link rel="preload" href="/assets/js/app.20b7a3cd.js" as="script"><link rel="preload" href="/assets/js/2.94e36c74.js" as="script"><link rel="preload" href="/assets/js/8.8e068b73.js" as="script"><link rel="prefetch" href="/assets/js/10.1d27e27a.js"><link rel="prefetch" href="/assets/js/11.e4f2875f.js"><link rel="prefetch" href="/assets/js/12.b35cc923.js"><link rel="prefetch" href="/assets/js/13.f07507f2.js"><link rel="prefetch" href="/assets/js/14.458caf1e.js"><link rel="prefetch" href="/assets/js/15.a99294e4.js"><link rel="prefetch" href="/assets/js/16.7cb0eb3c.js"><link rel="prefetch" href="/assets/js/17.c3e00627.js"><link rel="prefetch" href="/assets/js/18.03c2d240.js"><link rel="prefetch" href="/assets/js/19.9c92a692.js"><link rel="prefetch" href="/assets/js/20.ad8acc7f.js"><link rel="prefetch" href="/assets/js/21.0446ff0b.js"><link rel="prefetch" href="/assets/js/22.a4ba6dc2.js"><link rel="prefetch" href="/assets/js/23.10931822.js"><link rel="prefetch" href="/assets/js/24.29db39b4.js"><link rel="prefetch" href="/assets/js/25.4265a2b1.js"><link rel="prefetch" href="/assets/js/26.ad124b4a.js"><link rel="prefetch" href="/assets/js/27.29dfdf21.js"><link rel="prefetch" href="/assets/js/28.98b3e125.js"><link rel="prefetch" href="/assets/js/29.52a42b6a.js"><link rel="prefetch" href="/assets/js/3.ff294584.js"><link rel="prefetch" href="/assets/js/30.9700a75f.js"><link rel="prefetch" href="/assets/js/31.67960775.js"><link rel="prefetch" href="/assets/js/4.2c04eda2.js"><link rel="prefetch" href="/assets/js/5.57c93f9b.js"><link rel="prefetch" href="/assets/js/6.7b8561e6.js"><link rel="prefetch" href="/assets/js/7.74e24fbc.js"><link rel="prefetch" href="/assets/js/9.aa96a151.js">
    <link rel="stylesheet" href="/assets/css/0.styles.79ba9eaa.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Jason's Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/前端开发/" class="nav-link">前端</a></div><div class="nav-item"><a href="/算法/" class="nav-link">算法</a></div><div class="nav-item"><a href="/增长黑客/" class="nav-link">增长黑客</a></div><div class="nav-item"><a href="/故事/" class="nav-link">故事</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/前端开发/" class="nav-link">前端</a></div><div class="nav-item"><a href="/算法/" class="nav-link">算法</a></div><div class="nav-item"><a href="/增长黑客/" class="nav-link">增长黑客</a></div><div class="nav-item"><a href="/故事/" class="nav-link">故事</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/前端开发/基础/js-Javascript高级程序设计笔记.html" class="sidebar-link">js--JavaScript高级程序设计</a></li><li><a href="/前端开发/基础/js-常见源码实现.html" class="sidebar-link">js--常见源码实现</a></li><li><a href="/前端开发/基础/js-继承与原型链.html" class="sidebar-link">js-作用域，原型链，闭包</a></li><li><a href="/前端开发/基础/css-css基础.html" class="sidebar-link">css--css 基础</a></li><li><a href="/前端开发/基础/css-sass.html" class="sidebar-link">css--sass 基础</a></li><li><a href="/前端开发/基础/node-node基础.html" class="sidebar-link">node--node 基础</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>react基础</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>进阶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>webpack</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/前端开发/进阶/w1-最简单的webpack4项目.html" class="sidebar-link">w1-最简单的webpack打包</a></li><li><a href="/前端开发/进阶/w2-动手搭建个vue项目.html" class="sidebar-link">w2-动手搭建个vue项目</a></li><li><a href="/前端开发/进阶/w3-webpack4详解.html" class="sidebar-link">w3-webpack4详解</a></li><li><a href="/前端开发/进阶/w4-自己实现个webpack.html" class="sidebar-link">w4-自己实现个webpack</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>vue源码</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>实战</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/前端开发/实战/VueUI库.html" class="sidebar-link">基于Vue的UI库</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>周边技术</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/前端开发/周边/vuepress搭建blog.html" class="active sidebar-link">vuepress搭建Blog</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/前端开发/周边/vuepress搭建blog.html#环境搭建" class="sidebar-link">环境搭建</a></li><li class="sidebar-sub-header"><a href="/前端开发/周边/vuepress搭建blog.html#router" class="sidebar-link">router</a></li><li class="sidebar-sub-header"><a href="/前端开发/周边/vuepress搭建blog.html#markdown编写" class="sidebar-link">markdown编写</a></li><li class="sidebar-sub-header"><a href="/前端开发/周边/vuepress搭建blog.html#发布部署" class="sidebar-link">发布部署</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="环境搭建"><a href="#环境搭建" aria-hidden="true" class="header-anchor">#</a> 环境搭建</h2> <p>搭建目录</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">mkdir</span> blog  <span class="token comment">#  项目目录</span>
<span class="token function">mkdir</span> blog/docs
<span class="token function">mkdir</span> blog/docs/.vuepress  <span class="token comment"># vuepress配置和打包目录</span>
<span class="token builtin class-name">cd</span> blog
<span class="token function">npm</span> init -y  <span class="token comment"># 生成package.json</span>
</code></pre></div><p>下载安装 vuepress</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> vuepress -D
</code></pre></div><p>新建 markdown 文件</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">'# Hello VuePress!'</span> <span class="token operator">&gt;</span> docs/README.md

npx vuepress dev docs  <span class="token comment"># 开始写作</span>
</code></pre></div><h2 id="router"><a href="#router" aria-hidden="true" class="header-anchor">#</a> router</h2> <p>vuepress路由主要是在 .vuepress目录下的 config.js里进行配置</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  title<span class="token punctuation">:</span> <span class="token string">'Jason\'s Blog'</span><span class="token punctuation">,</span>
  description<span class="token punctuation">:</span> <span class="token string">'Jason个人站，技术，营销和白日梦'</span><span class="token punctuation">,</span>
  head<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token comment">// 注入到当前页面的 HTML &lt;head&gt; 中的标签</span>
    <span class="token punctuation">[</span><span class="token string">'link'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> rel<span class="token punctuation">:</span> <span class="token string">'icon'</span><span class="token punctuation">,</span> href<span class="token punctuation">:</span> <span class="token string">'/logo.jpg'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 增加一个自定义的 favicon(网页标签的图标)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  base<span class="token punctuation">:</span> <span class="token string">'/blog/'</span><span class="token punctuation">,</span> <span class="token comment">// 这是部署到github相关的配置</span>
  markdown<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    lineNumbers<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token comment">// 代码块显示行号</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  themeConfig
<span class="token punctuation">}</span>
</code></pre></div><p>与路由相关最重要的是themeConfig属性，这里为了维护方便，分开写并引入了</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span>
  themeConfig<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span> <span class="token punctuation">(</span><span class="token string">'./config/'</span><span class="token punctuation">)</span>
</code></pre></div><p>themeConfig 有nav 和 sidebar属性分别对应顶部导航和侧边栏导航</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> sidebar <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./sidebar'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  nav<span class="token punctuation">:</span><span class="token punctuation">[</span> <span class="token comment">// 导航栏配置</span>
    <span class="token punctuation">{</span>text<span class="token punctuation">:</span> <span class="token string">'前端'</span><span class="token punctuation">,</span> link<span class="token punctuation">:</span> <span class="token string">'/前端开发/'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>text<span class="token punctuation">:</span> <span class="token string">'算法'</span><span class="token punctuation">,</span> link<span class="token punctuation">:</span> <span class="token string">'/算法/'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>text<span class="token punctuation">:</span> <span class="token string">'增长黑客'</span><span class="token punctuation">,</span> link<span class="token punctuation">:</span> <span class="token string">'/增长黑客/'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>text<span class="token punctuation">:</span> <span class="token string">'故事'</span><span class="token punctuation">,</span> link<span class="token punctuation">:</span> <span class="token string">'/故事/'</span><span class="token punctuation">}</span>      
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  sidebar<span class="token punctuation">,</span>
  sidebarDepth<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">// 侧边栏显示2级</span>
<span class="token punctuation">}</span><span class="token comment">/*  */</span>
</code></pre></div><p>侧边栏导航的生成</p> <p><img src="/assets/img/sidebar.8bc44569.png" alt="sidebar">
如图所示，侧边栏导航根据themeConfig.sidebar属性生成</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
    title<span class="token punctuation">:</span> <span class="token string">&quot;周边技术&quot;</span><span class="token punctuation">,</span>
    collapsable<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    children<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;周边/vuepress搭建blog&quot;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中children中放的是markdown文件在项目里的路径</p> <p>配置完这些，基本上的导航就有了。</p> <h2 id="markdown编写"><a href="#markdown编写" aria-hidden="true" class="header-anchor">#</a> markdown编写</h2> <p>md文件的编写，就按照一般的md规范即可。以下几点稍作注意</p> <p>每个md title字段将被用来显示导航的名称</p> <p>比如现在这篇：</p> <div class="language-markdown extra-class"><pre class="language-markdown"><code><span class="token hr punctuation">---</span>
<span class="token title important">title: &quot;vuepress搭建Blog&quot;
<span class="token punctuation">---</span></span>
</code></pre></div><p>另外分段落编写，2号标题以下将在侧边栏导航自动显示，形成锚点.</p> <p>比如现在的标题</p> <div class="language-md extra-class"><pre class="language-md"><code><span class="token title important"><span class="token punctuation">##</span> markdown编写</span>
</code></pre></div><h2 id="发布部署"><a href="#发布部署" aria-hidden="true" class="header-anchor">#</a> 发布部署</h2> <p>Blog写完之后，需要发布到服务器。</p> <p>首选Github，提供的git pages。</p> <p>这个本来是用于写一些项目的静态展示和介绍。利用他能方便，快速的搭建一个静态展示站点，当然也包括Blog.</p> <ol><li>在github上创建blog仓库</li> <li>在 docs/.vuepress/config.js配置正确的base</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>base<span class="token punctuation">:</span> <span class="token string">'/blog/'</span><span class="token punctuation">,</span> <span class="token comment">// 这是部署到github相关的配置</span>
</code></pre></div><ol start="3"><li>在项目根目录创建deploy.sh脚本</li></ol> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token shebang important">#!/usr/bin/env sh</span>

<span class="token comment"># 确保脚本抛出遇到的错误</span>
<span class="token builtin class-name">set</span> -e

<span class="token comment"># 生成静态文件</span>
<span class="token function">npm</span> run build

<span class="token comment"># 进入生成的文件夹</span>
<span class="token builtin class-name">cd</span> docs/.vuepress/dist

<span class="token comment"># 如果是发布到自定义域名</span>
<span class="token comment"># echo 'www.yourwebsite.com' &gt; CNAME</span>

<span class="token function">git</span> init
<span class="token function">git</span> <span class="token function">add</span> -A
<span class="token function">git</span> commit -m <span class="token string">'deploy'</span>

<span class="token comment"># 如果你想要部署到 https://USERNAME.github.io</span>
<span class="token comment"># git push -f git@github.com:niuzz/niuzz.github.io.git master</span>

<span class="token comment"># 替换成自己的用户名和仓库名</span>
<span class="token function">git</span> push -f git@github.com:<span class="token operator">&lt;</span>USERNAME<span class="token operator">&gt;</span>/<span class="token operator">&lt;</span>REPO<span class="token operator">&gt;</span>.git master:gh-pages

<span class="token builtin class-name">cd</span> -
</code></pre></div><p>双击deploy.sh运行脚本，会在刚创建的blog仓库创建gh-pages分支</p> <p>登入创建的github/blog仓库，修改仓库的发布源</p> <p><img src="/assets/img/github.1bcbcda8.png" alt="github"></p> <p>即完成发布。</p> <p>为了方便起见，将部署的命令写入package.json</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token string">&quot;scripts&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;dev&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;vuepress dev docs&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;build&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;vuepress build docs&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;deploy&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;bash deploy.sh&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>下次发布时，只需要执行</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> run deploy
</code></pre></div><hr> <p>END</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/前端开发/实战/VueUI库.html" class="prev">
          基于Vue的UI库
        </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.20b7a3cd.js" defer></script><script src="/assets/js/2.94e36c74.js" defer></script><script src="/assets/js/8.8e068b73.js" defer></script>
  </body>
</html>
